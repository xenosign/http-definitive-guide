# 14. 보안 HTTP

## 14.1 HTTP 를 안전하게 만들기

- 사람들은 웹 트랜잭션을 중요한 일에 사용하므로, 웹은 안전한 방식의 HTTP 를 필요로 한다
- 웹은 인증을 위해 다이제스트 인증 방식을 제공하지만 해당 방법은 은행 업무 등의 강력한 보안이 필요한 부분에는 충분히 강력하지 않음
- 따라서 웹은 다음을 제공할 수 있는 HTTP 보안 기술이 필요
  - 서버 인증 : 클라이언트는 위조된 서버가 아닌 진짜 서버와 통신 중임을 알아야 함
  - 클라이언트 인증 : 서버는 자신이 가짜가 아닌 진짜 사용자와 이야기 하고 있음을 알아야 함
  - 무결성 : 클라이언트와 서버는 그들의 데이터가 위조되는 것으로부터 안전해야 함
  - 암호화 : 클라아인트와 서버는 도청에 대한 걱정 없이 대화가 가능해야 함
  - 효율 : 저렴한 클라이언트나 서버도 이용할 수 있도록 충분히 빨라야 함
  - 편재성 : 프로토콜은 거의 모든 클라이언트나 서버에서 지원되어야 함
  - 관리상의 확장성 : 누구든, 어디서든 즉각적인 보안 통신이 가능해야 함
  - 적응성 : 현재 알려진 최신의 보안 방법을 제공
  - 사회적 생존성 : 사회의 문화, 정치적 요구를 만족 시켜야 함

### 14.1.1 HTTPS

- HTTPS 는 넷스케이프에 의해서 개척되었으며, 가장 인기있는 보안 방식이다
- HTTPS 를 사용하면 모든 요청과 응답 데이터는 네트워크로 보내지기 전에 암호화 된다
- HTTPS 는 HTTP 하부의 전송 레벨 암호 보안 계층에서 동작하며, 안전 소켓 계층(Secure Sockets Layer, SSL) 혹은 그를 계승한 전송 계층 보안(Transport Layer Security, TLS) 를 이용하여 구현

> p.357 그림 삽입

## 14.2 디지털 암호학

- 암호 : 텍스트를 아무나 읽지 못하도록 인코딩하는 알고리즘
- 키 : 암호의 동작을 변경하는 숫자로 된 매개변수
- 대칭키 암호 체계 : 인코딩과 디코딩에 같은 키를 사용하는 알고리즘
- 비대칭키 암호 체계 : 인코딩과 디코딩에 다른 키를 사용하는 알고리즘
- 공개키 암호법 : 비밀 메시지를 전달하는 수백만 대의 컴퓨터를 만들 수 있는 시스템
- 디지털 서명 : 메시지가 위조 혹은 변조되지 않았음을 입증하는 체크섬
- 디지털 인증서 : 신뢰할 만한 조직에 의해 서명되고 검증된 신원 확인 정보

### 14.2.1 비밀 코드의 기술과 과학

- 암호법(Cryptography)은 수천년간 도청에 대해 메시지를 암호화하는 것뿐 아니라, 메시지의 변조를 방지하기 위해 노력해 왔다

### 14.2.2 암호(Cipher)

- 암호는 메시지를 인코딩하는 특정한 방법과 나중에 비밀 메시지를 디코딩하는 방법으로, 인코딩되기 전의 원본 메시지는 텍스트 혹은 평문이라 불린다
- 과거 율리우스 카이사르는 알파벳을 3 글자 뒤의 글자로 교체하는 순환 암호를 사용

### 14.2.3 암호 기계

- 사람들이 사용하는 암호 알고리즘은 간단하여 쉽게 암호를 해석이 가능, 기술의 진보로 더 복잡한 암호를 위해 기계를 사용하기 시작

### 14.2.4 키가 있는 암호

- 코드 알고리즘 혹은 기계가 적의 손에 들어가더라도 암호의 동작 방식을 변경하는 값을 설정할 수 있었으며, 해당 값(키)이 없으면 암호 해독이 불가능

### 14.2.5 디지털 암호

- 디지털이 도입되면서 암호는 속도 및 기능이 기계 장치의 한계를 벗어나 더욱 복잡한 알고리즘 도입이 가능해졌으며, 매우 큰 키를 지원하여 암호의 해독이 더 어려워 졌다

## 14.3 대칭키 암호법

- 인코딩 키와 디코딩 키가 같은 알고리즘을 사용하는 암호화 방법

### 14.3.1 키 길이와 열거 공격 (Enumeration Attack)

- 대부분의 경우 인코딩-디코딩 알고리즘은 공개되어 있으므로 비밀 키는 누설되면 안된다
- 좋은 암호 알고리즘은 공격자가 코드를 크래킹하기 위해 오랜 시간, 아니면 불가능한 시간의 공격을 하게 만들어야 한다
- 가능한 키 값의 개수는 보통 키의 길에 의존하며, 8 비트 키라면 256 가지의 값이 가능하며 40 비트면 약 1조 가지의 값이 가능하다
- 하지만 점점 빨라지는 연산 속도에 의해 40 비트는 쉽게 크래킹이 가능하므로, 미국 국가안보국(NSA) 에서는 128 비트 키를 권장

### 14.3.2 공유키 발급하기

- 대칭키 암호의 단점은 발송자와 송신자가 공유키를 가져야 한다는 점이며, 각 노드별로 개인키를 발급하고 이를 관리해야 한다 
- N 개의 노드가 있고 각 노드가 상대 N-1 노드와 은밀하게 대화를 하기 위해서는 N ^ 2 의 비밀 키가 필요